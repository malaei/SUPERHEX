# Analysis Tools and Utilities for the Four-State Method

This directory provides a set of utility programs that assist with selecting supercells and preparing inputs for calculating **Heisenberg exchange interactions** in the **SUPERHEX** workflow using the *four-state method*.

---

## Available Tools

### 1. `find-cell.py`

This analysis tool helps determine which exchange interactions can be computed for each supercell generated by SUPERHEX. They inspect symmetry, atomic connectivity, and neighbor relations to determine the valid pairs needed for the four-state technique.


## Workflow

```text
SUPERHEX → generate supercells → run find-cell.py → output valid exchange pairs
                                                            |
                                                            → all_valid_neighbors.csv
                         
```
## Running the Program

The program can be executed in two ways:

### 1. Providing parameters via the command line
You can specify all required options directly in the terminal.  
To see the list of available parameters and usage instructions, use:

```bash
python find-cell.py -h
```

### 2. Providing parameters through a YAML input file
All parameters may also be supplied through an external YAML-style input file
(e.g., `params-find.in`). This is useful for reproducibility or longer sets of options.

```bash
python find-cell.py -i params-find.in
``` 

### Output of the Program
`all_valid_neighbors.csv` contains the list of allowed exchange interactions for each supercell.  
Each row has the format, for example:

```bash
15,30,J1
16,54,J1,J3,J4
```
- The **first number** is the supercell volume index (following SUPERHEX indexing).  
- The **second number** is the structure index within that volume (also using SUPERHEX indexing).  
- The remaining entries (e.g., `J1`, `J3`, `J4`) list the **exchange interactions that can be computed** for that particular supercell structure.


---

### 2. `pairs.py`

This analysis tool examines a given supercell and identifies all atom pairs that can be used to compute exchange interactions via the four-state method.


## Running the Program

The program can be executed in two ways:

### 1. Providing parameters via the command line
Use the help option to see all available arguments and required inputs:

```bash
python pairs.py -h
```

### 2. Providing parameters through a YAML input file

You can also supply all parameters inside an external YAML-style input file (e.g., `params.in`):

```bash
python pairs.py -i params.in
```
